# Create prefab tile
---
1. Menu: 2D Object -> Sprites ->Isometric Diamond 
2. Drag object to Prefabs Folder
3. Delete object 

## Генерация мира 

Формулы и описания процедурной генерации были позаимствованы [тут](https://ru.kihontekina.dev/posts/perlin_noise_part_one/).
Мир генерируется процедурно при запуске игры. Для генерации мира используется Шум Перлинга который представляет из себя генератор псевдослучайных чисел от 0 до 1 , которые распределяются на заданной поверхности по определенному закону.
Значения представляют собой распределение карты по высоте:
- 0-самая глубокая точка  
- 1 - самая высокая точка

---
### PerlinGenerate - скрипт для генерации мира:

![Perlin](https://github.com/Jomart02/Factorio_game_develop/blob/master/ImageGit/PerlinGenerate.jpg)

- **Grid Height/Width** - размеры карты;
- **Scale (Шкала/Масштаб)** - управляет уровнем шума. При уменьшении масштаба шум уменьшается. Принимая во внимание, что увеличение масштаба приведет к увеличению шума;
- **Octaves (Октавы)** -  Относится к использованию нескольких уровней шума. 1-я октава является базовым слоем и обеспечивает общую форму шума. Каждая последующая октава будет увеличивать детализацию шума;
-  **Постоянство (Persistence)** - управляет амплитудой каждой октавы шума, что определяет влияние каждой октавы на общую форму;
- **Лакунарность (Lacunarity)** -контролирует частоту каждой октавы шума, которая влияет на количество деталей, добавляемых для каждой октавы;
- **Сдвиг (Offset)** - внешний сдвиг, используется для корректировки сдвига октав и визуального изменения масштаба.
---
### TileWorld - скрипт для настройки отрисовки мира:

![Tile](https://github.com/Jomart02/Factorio_game_develop/blob/master/ImageGit/TileWorld.jpg)

Скрипт содержит изменяемый массив структур TerrainLevel. 
Структура состоит из:
- Name (string) - название элемента;
- minLevel (float) - минимальная граница шума элемента;
- maxLevel (float)  - Максимальная граница шума элемента;
- Prefab_tile (GameObject) - соответствующий префаб для отрисовки 

С помощью массива можно отрисовать необходимую карту высот.
Метод GetTileLevel(noise) возвращает соответствующий заданному распределению префаб , сверяя полученное значение шума.

---
## Примеры генерации Part/1

1. 300x300, 2 Октавы, Шкала 75

![map2](https://github.com/Jomart02/Factorio_game_develop/blob/master/ImageGit/map1.jpg)

2. 300x300, 4 Октавы, Шкала 75

![map](https://github.com/Jomart02/Factorio_game_develop/blob/master/ImageGit/map2.jpg)

3. 300x300 , 10 Октав , Шкала 75

![map2](https://github.com/Jomart02/Factorio_game_develop/blob/master/ImageGit/map3.jpg)

4. 300x300 , 10 Октав , Шкала 500

![map2](https://github.com/Jomart02/Factorio_game_develop/blob/master/ImageGit/map4.jpg)
